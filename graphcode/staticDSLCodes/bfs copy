function computeBC (Graph g , propNode<float> BC) {
 propNode<double> sigma ;
propNode<double> delta ;
 g.attachNodeProperty ( sigma = 0) ;

 iterateInBFS (v in g.nodes() from src ) {
 for (w in g.neighbors (v) ) {
 w.sigma = w.sigma + v.sigma ;
 } }

iterateInReverse( v != src ) {
 for(w in g.neighbors(v) ) {
 v.delta = v.delta + (v.sigma /w.sigma ) * (1 + w.delta ) ;
 }
 v.BC = v.BC + v.delta ;
 }
}